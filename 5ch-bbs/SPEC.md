# 5ch風掲示板Webサイト 機能要件仕様書

## 1. 概要

本システムは、5ch（旧2ちゃんねる）のような匿名掲示板Webサイトです。会員登録不要で、誰でも匿名で利用できます。

## 2. 基本方針

- **匿名性**: 会員登録不要、ログイン不要
- **シンプル性**: 必要最小限の機能に絞る
- **レスポンシブ**: PC・スマートフォン両対応

## 3. 機能要件

### 3.1 板（カテゴリ）機能

#### 3.1.1 板一覧表示
- **機能**: 利用可能な板の一覧を表示
- **表示項目**:
  - 板名
  - 板の説明
  - スレッド数
  - 最新投稿日時
- **動作**: 板をクリックすると、その板のスレッド一覧ページに遷移

#### 3.1.2 板の管理
- 初期状態で以下の板を用意（例）:
  - ニュース速報
  - 雑談
  - プログラミング
  - その他

### 3.2 スレッド機能

#### 3.2.1 スレッド一覧表示
- **機能**: 選択した板のスレッド一覧を表示
- **表示項目**:
  - スレッド番号
  - スレッドタイトル
  - レス数
  - 最新投稿日時
  - 作成日時
- **ソート**: 最新投稿日時順（降順）で表示
- **ページネーション**: 1ページあたり20スレッド表示

#### 3.2.2 スレッド作成
- **機能**: 新しいスレッドを作成
- **入力項目**:
  - タイトル（必須、最大100文字）
  - 名前（任意、最大30文字、デフォルト: "名無し"）
  - 本文（必須、最大1000文字）
- **動作**:
  - スレッド番号を自動付与（連番）
  - 作成日時を記録
  - 作成後、スレッド詳細ページに遷移

#### 3.2.3 スレッド詳細表示
- **機能**: スレッドの詳細とレス一覧を表示
- **表示項目**:
  - スレッドタイトル
  - スレッド番号
  - 作成日時
  - レス一覧（時系列順）
- **レス表示項目**:
  - レス番号
  - 名前
  - 投稿日時
  - 本文

### 3.3 レス（投稿）機能

#### 3.3.1 レス投稿
- **機能**: 既存スレッドにレスを投稿
- **入力項目**:
  - 名前（任意、最大30文字、デフォルト: "名無し"）
  - 本文（必須、最大1000文字）
- **動作**:
  - レス番号を自動付与（連番）
  - 投稿日時を記録
  - スレッドの最新投稿日時を更新
  - 投稿後、スレッド詳細ページに遷移（同じページに留まる）

#### 3.3.2 レス表示
- **機能**: スレッド詳細ページでレス一覧を表示
- **表示順**: 投稿日時順（昇順）
- **ページネーション**: 1ページあたり50レス表示
- **表示形式**: 
  - レス番号: 1, 2, 3, ...
  - 名前: 入力された名前、または"名無し"
  - 投稿日時: YYYY/MM/DD HH:MM:SS形式
  - 本文: 改行を保持して表示

### 3.4 入力制限・バリデーション

#### 3.4.1 文字数制限
- スレッドタイトル: 1〜100文字
- 名前: 0〜30文字（0文字の場合は"名無し"として扱う）
- 本文: 1〜1000文字

#### 3.4.2 禁止事項
- HTMLタグの入力（エスケープ処理）
- スクリプトインジェクション対策
- XSS対策

#### 3.4.3 レート制限（将来実装）
- 同一IPアドレスからの連続投稿制限（スパム対策）

### 3.5 UI/UX要件

#### 3.5.1 レイアウト
- **ヘッダー**: サイト名、板一覧へのリンク
- **メインコンテンツ**: スレッド一覧またはスレッド詳細
- **フッター**: 簡易的な情報

#### 3.5.2 ナビゲーション
- 板一覧 → スレッド一覧 → スレッド詳細の階層構造
- パンくずリストで現在位置を表示

#### 3.5.3 レスポンシブデザイン
- PC表示: 横幅最大1200px、中央配置
- スマートフォン表示: 全幅表示、フォントサイズ調整

### 3.6 データ管理

#### 3.6.1 データ構造
- **板（Board）**: 板ID、板名、説明、作成日時
- **スレッド（Thread）**: スレッドID、板ID、タイトル、作成日時、最新投稿日時
- **レス（Post）**: レスID、スレッドID、名前、本文、投稿日時

#### 3.6.2 データ永続化
- データベース（SQLiteまたはPostgreSQL）を使用
- データのバックアップ機能（将来実装）

## 4. 非機能要件

### 4.1 パフォーマンス
- スレッド一覧の表示: 1秒以内
- レス投稿処理: 2秒以内

### 4.2 セキュリティ
- SQLインジェクション対策
- XSS対策
- CSRF対策
- 適切なエラーハンドリング

### 4.3 可用性
- 基本的なエラーメッセージ表示
- フォーム入力エラー時の適切なフィードバック

## 5. 将来実装予定の機能

- 画像アップロード機能
- スレッド検索機能
- 板の追加・削除機能（管理者機能）
- スパム対策の強化
- レス引用機能
- スレッドのアーカイブ機能

## 6. 技術スタック（参考）

- **フロントエンド**: HTML, CSS, JavaScript（またはReact/Vue.js）
- **バックエンド**: Node.js（Express）またはPython（Flask/Django）
- **データベース**: SQLite（開発）またはPostgreSQL（本番）
- **デプロイ**: Heroku、Vercel、またはAWS

## 7. 用語定義

- **板（Board）**: スレッドを分類するカテゴリ
- **スレッド（Thread）**: 特定のトピックについての議論の場
- **レス（Post）**: スレッド内の個別の投稿
- **名無し**: 名前を入力しなかった場合のデフォルト名

